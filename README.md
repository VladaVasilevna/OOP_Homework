# Объектно-ориентированное программирование (ООП)

## Описание:

В рамках этого проекта проработано использование классов и объектов на основе популярной темы e-commerce.

## Работа классов и функций:

1. Созданы классы Product и Category.
2. Для класса Product описаны необходимые атрибуты.
3. Для класса Category добавлены два атрибута класса: количество категорий (category_count) и количество товаров (product_count).
4. Реализована подгрузка данных по категориями и товарам из файла JSON. Функция read_json читает файл, а функция create_objects_from_json создает объекты классов.
5. Для класса Category список товаров является приватным атрибутом, чтобы к нему нельзя было получить доступ извне. Для добавления товаров в категорию реализован специальный метод add_product() в классе Category, в который нужно передавать объект класса Product и уже его записывать в приватный атрибут списка товаров.
6. Реализован геттер, который выводит список товаров в виде строк в формате: Название продукта, 80 руб. Остаток: 15 шт.
7. Для класса Product создан класс-метод new_product, который принимает на вход параметры товара в словаре и возвращает созданный объект класса Product. Для данного метода реализована проверка наличия такого же товара схожего по имени. В случае если товар уже существует, складывается количество в наличии старого товара и нового. При конфликте цен выбирается та, которая является более высокой. Для этого в метод передается список товаров, в котором ищутся дубликаты.
8. Для класса Product атрибут цены приватный и описаны геттеры и сеттеры. В сеттере реализована проверка: в случае если цена равна или ниже нуля, выводится сообщение в консоль “Цена не должна быть нулевая или отрицательная”, при этом новая цена не устанавливается. В случае если цена товара понижается, добавлена логика подтверждения пользователем вручную через ввод y (значит yes) или n (значит no) для согласия понизить цену или для отмены действия соответственно.
9. Для класса Product переопределен метод __str__, который возвращает строку: Название продукта, X руб. Остаток: X шт.
10. Для класса Category переопределен метод __str__, который возвращает строку: Название категории, количество продуктов: X шт.
11. Метод __str__ рассчитывает общее количество товаров на складе (quantity) для каждого продукта в приватном атрибуте products.
12. Для класса Product переопределен магический метод сложения __add__, который принимает два аргумента: self и второй объект. Метод возвращает сумму произведений цены на количество у двух объектов. 
13. Создан новый вспомогательный класс CategoryIterator, с помощью которого можно перебирать товары одной категории, например в цикле for. Для этого новый класс должен принимать на вход объект класса категории и производить итерацию по товарам, которые хранятся в данной категории.
14. Созданы два класса наследников класса Product: «Смартфон» (Smartphone) и «Трава газонная» (LawnGrass).
15. Доработана функциональность сложения таким образом, чтобы можно было складывать товары только из одинаковых классов продуктов.
16. Новая функциональность не дает возможности сложить объекты разных классов, например смартфон и траву газонную. При попытке сложения таких экземпляров выбрасывается ошибка TypeError.
17. Для реализации ограничений используется функция type().
18. Доработан метод, который добавляет продукт в категорию таким образом, чтобы не было возможности добавить вместо продукта или его наследников любой другой объект.
19. Для реализации ограничений используются функции isinstance().

## Требования к окружению:

   - Установите:

     ```Python 3.8+```

## Установка проекта:

- Склонировать репозиторий:

       ```bash git clone https://github.com/VladaVasilevna/OOP_Homework```

- Перейти в директорию проекта:

       ```bash cd ваш-проект```

- (Если требуется) Создать и активировать виртуальное окружение:

  ```bash python -m venv venv source venv/bin/activate  # или venv\Scripts\activate для Windows```

- Склонировать репозиторий:

       ```bash git clone https://github.com/VladaVasilevna/OOP_Homework```

- Перейти в директорию проекта:

       ```bash cd ваш-проект```

- (Если требуется) Создать и активировать виртуальное окружение:

       ```bash python -m venv venv source venv/bin/activate  # или venv\Scripts\activate для Windows```

## Установка зависимостей:

     ```bash pip install -r requirements.txt```



## Как запустить проект:

     ```bash python manage.py runserver```

## Тестирование
- Для всех фунцкций в проекте написаны тесты.
- Использованы фикстуры для создания необходимых входных данных для тестов.
- Создан отчет HTML.